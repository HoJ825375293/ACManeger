{"ast":null,"code":"function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport RcTable, { INTERNAL_COL_DEFINE } from 'rc-table';\nimport * as PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport shallowEqual from 'shallowequal';\nimport FilterDropdown from './filterDropdown';\nimport createStore from './createStore';\nimport SelectionBox from './SelectionBox';\nimport SelectionCheckboxAll from './SelectionCheckboxAll';\nimport Column from './Column';\nimport ColumnGroup from './ColumnGroup';\nimport createBodyRow from './createBodyRow';\nimport { flatArray, treeMap, flatFilter, normalizeColumns } from './util';\nimport Pagination from '../pagination';\nimport Icon from '../icon';\nimport Spin from '../spin';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from '../locale-provider/default';\nimport { ConfigConsumer } from '../config-provider';\nimport warning from '../_util/warning';\n\nfunction noop() {}\n\nfunction stopPropagation(e) {\n  e.stopPropagation();\n\n  if (e.nativeEvent.stopImmediatePropagation) {\n    e.nativeEvent.stopImmediatePropagation();\n  }\n}\n\nfunction getRowSelection(props) {\n  return props.rowSelection || {};\n}\n\nvar defaultPagination = {\n  onChange: noop,\n  onShowSizeChange: noop\n};\n/**\n * Avoid creating new object, so that parent component's shouldComponentUpdate\n * can works appropriately。\n */\n\nvar emptyObject = {};\n\nvar Table = /*#__PURE__*/function (_React$Component) {\n  _inherits(Table, _React$Component);\n\n  function Table(props) {\n    var _this;\n\n    _classCallCheck(this, Table);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Table).call(this, props));\n\n    _this.getCheckboxPropsByItem = function (item, index) {\n      var rowSelection = getRowSelection(_this.props);\n\n      if (!rowSelection.getCheckboxProps) {\n        return {};\n      }\n\n      var key = _this.getRecordKey(item, index); // Cache checkboxProps\n\n\n      if (!_this.CheckboxPropsCache[key]) {\n        var checkboxProps = _this.CheckboxPropsCache[key] = rowSelection.getCheckboxProps(item);\n        warning(!('checked' in checkboxProps) && !('defaultChecked' in checkboxProps), 'Table', 'Do not set `checked` or `defaultChecked` in `getCheckboxProps`. Please use `selectedRowKeys` instead.');\n      }\n\n      return _this.CheckboxPropsCache[key];\n    };\n\n    _this.onRow = function (prefixCls, record, index) {\n      var onRow = _this.props.onRow;\n      var custom = onRow ? onRow(record, index) : {};\n      return _extends({}, custom, {\n        prefixCls: prefixCls,\n        store: _this.store,\n        rowKey: _this.getRecordKey(record, index)\n      });\n    };\n\n    _this.handleFilter = function (column, nextFilters) {\n      var props = _this.props;\n\n      var pagination = _extends({}, _this.state.pagination);\n\n      var filters = _extends({}, _this.state.filters, _defineProperty({}, _this.getColumnKey(column), nextFilters)); // Remove filters not in current columns\n\n\n      var currentColumnKeys = [];\n      treeMap(_this.columns, function (c) {\n        if (!c.children) {\n          currentColumnKeys.push(_this.getColumnKey(c));\n        }\n      });\n      Object.keys(filters).forEach(function (columnKey) {\n        if (currentColumnKeys.indexOf(columnKey) < 0) {\n          delete filters[columnKey];\n        }\n      });\n\n      if (props.pagination) {\n        // Reset current prop\n        pagination.current = 1;\n        pagination.onChange(pagination.current);\n      }\n\n      var newState = {\n        pagination: pagination,\n        filters: {}\n      };\n\n      var filtersToSetState = _extends({}, filters); // Remove filters which is controlled\n\n\n      _this.getFilteredValueColumns().forEach(function (col) {\n        var columnKey = _this.getColumnKey(col);\n\n        if (columnKey) {\n          delete filtersToSetState[columnKey];\n        }\n      });\n\n      if (Object.keys(filtersToSetState).length > 0) {\n        newState.filters = filtersToSetState;\n      } // Controlled current prop will not respond user interaction\n\n\n      if (_typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.pagination = _extends({}, pagination, {\n          current: _this.state.pagination.current\n        });\n      }\n\n      _this.setState(newState, function () {\n        _this.store.setState({\n          selectionDirty: false\n        });\n\n        var onChange = _this.props.onChange;\n\n        if (onChange) {\n          onChange.apply(null, _this.prepareParamsArguments(_extends({}, _this.state, {\n            selectionDirty: false,\n            filters: filters,\n            pagination: pagination\n          })));\n        }\n      });\n    };\n\n    _this.handleSelect = function (record, rowIndex, e) {\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n      var defaultSelection = _this.store.getState().selectionDirty ? [] : _this.getDefaultSelection();\n\n      var selectedRowKeys = _this.store.getState().selectedRowKeys.concat(defaultSelection);\n\n      var key = _this.getRecordKey(record, rowIndex);\n\n      var pivot = _this.state.pivot;\n\n      var rows = _this.getFlatCurrentPageData();\n\n      var realIndex = rowIndex;\n\n      if (_this.props.expandedRowRender) {\n        realIndex = rows.findIndex(function (row) {\n          return _this.getRecordKey(row, rowIndex) === key;\n        });\n      }\n\n      if (nativeEvent.shiftKey && pivot !== undefined && realIndex !== pivot) {\n        var changeRowKeys = [];\n        var direction = Math.sign(pivot - realIndex);\n        var dist = Math.abs(pivot - realIndex);\n        var step = 0;\n\n        var _loop = function _loop() {\n          var i = realIndex + step * direction;\n          step += 1;\n          var row = rows[i];\n\n          var rowKey = _this.getRecordKey(row, i);\n\n          var checkboxProps = _this.getCheckboxPropsByItem(row, i);\n\n          if (!checkboxProps.disabled) {\n            if (selectedRowKeys.includes(rowKey)) {\n              if (!checked) {\n                selectedRowKeys = selectedRowKeys.filter(function (j) {\n                  return rowKey !== j;\n                });\n                changeRowKeys.push(rowKey);\n              }\n            } else if (checked) {\n              selectedRowKeys.push(rowKey);\n              changeRowKeys.push(rowKey);\n            }\n          }\n        };\n\n        while (step <= dist) {\n          _loop();\n        }\n\n        _this.setState({\n          pivot: realIndex\n        });\n\n        _this.store.setState({\n          selectionDirty: true\n        });\n\n        _this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelectMultiple',\n          record: record,\n          checked: checked,\n          changeRowKeys: changeRowKeys,\n          nativeEvent: nativeEvent\n        });\n      } else {\n        if (checked) {\n          selectedRowKeys.push(_this.getRecordKey(record, realIndex));\n        } else {\n          selectedRowKeys = selectedRowKeys.filter(function (i) {\n            return key !== i;\n          });\n        }\n\n        _this.setState({\n          pivot: realIndex\n        });\n\n        _this.store.setState({\n          selectionDirty: true\n        });\n\n        _this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelect',\n          record: record,\n          checked: checked,\n          changeRowKeys: void 0,\n          nativeEvent: nativeEvent\n        });\n      }\n    };\n\n    _this.handleRadioSelect = function (record, rowIndex, e) {\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n\n      var key = _this.getRecordKey(record, rowIndex);\n\n      var selectedRowKeys = [key];\n\n      _this.store.setState({\n        selectionDirty: true\n      });\n\n      _this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: 'onSelect',\n        record: record,\n        checked: checked,\n        changeRowKeys: void 0,\n        nativeEvent: nativeEvent\n      });\n    };\n\n    _this.handleSelectRow = function (selectionKey, index, onSelectFunc) {\n      var data = _this.getFlatCurrentPageData();\n\n      var defaultSelection = _this.store.getState().selectionDirty ? [] : _this.getDefaultSelection();\n\n      var selectedRowKeys = _this.store.getState().selectedRowKeys.concat(defaultSelection);\n\n      var changeableRowKeys = data.filter(function (item, i) {\n        return !_this.getCheckboxPropsByItem(item, i).disabled;\n      }).map(function (item, i) {\n        return _this.getRecordKey(item, i);\n      });\n      var changeRowKeys = [];\n      var selectWay = 'onSelectAll';\n      var checked; // handle default selection\n\n      switch (selectionKey) {\n        case 'all':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = true;\n          break;\n\n        case 'removeAll':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) >= 0) {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = false;\n          break;\n\n        case 'invert':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n            } else {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n            }\n\n            changeRowKeys.push(key);\n            selectWay = 'onSelectInvert';\n          });\n          break;\n\n        default:\n          break;\n      }\n\n      _this.store.setState({\n        selectionDirty: true\n      }); // when select custom selection, callback selections[n].onSelect\n\n\n      var rowSelection = _this.props.rowSelection;\n      var customSelectionStartIndex = 2;\n\n      if (rowSelection && rowSelection.hideDefaultSelections) {\n        customSelectionStartIndex = 0;\n      }\n\n      if (index >= customSelectionStartIndex && typeof onSelectFunc === 'function') {\n        return onSelectFunc(changeableRowKeys);\n      }\n\n      _this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: selectWay,\n        checked: checked,\n        changeRowKeys: changeRowKeys\n      });\n    };\n\n    _this.handlePageChange = function (current) {\n      var props = _this.props;\n\n      var pagination = _extends({}, _this.state.pagination);\n\n      if (current) {\n        pagination.current = current;\n      } else {\n        pagination.current = pagination.current || 1;\n      }\n\n      for (var _len = arguments.length, otherArguments = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        otherArguments[_key - 1] = arguments[_key];\n      }\n\n      pagination.onChange.apply(pagination, [pagination.current].concat(otherArguments));\n      var newState = {\n        pagination: pagination\n      }; // Controlled current prop will not respond user interaction\n\n      if (props.pagination && _typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.pagination = _extends({}, pagination, {\n          current: _this.state.pagination.current\n        });\n      }\n\n      _this.setState(newState);\n\n      _this.store.setState({\n        selectionDirty: false\n      });\n\n      var onChange = _this.props.onChange;\n\n      if (onChange) {\n        onChange.apply(null, _this.prepareParamsArguments(_extends({}, _this.state, {\n          selectionDirty: false,\n          pagination: pagination\n        })));\n      }\n    };\n\n    _this.renderSelectionBox = function (type) {\n      return function (_, record, index) {\n        var rowKey = _this.getRecordKey(record, index);\n\n        var props = _this.getCheckboxPropsByItem(record, index);\n\n        var handleChange = function handleChange(e) {\n          type === 'radio' ? _this.handleRadioSelect(record, index, e) : _this.handleSelect(record, index, e);\n        };\n\n        return React.createElement(\"span\", {\n          onClick: stopPropagation\n        }, React.createElement(SelectionBox, _extends({\n          type: type,\n          store: _this.store,\n          rowIndex: rowKey,\n          onChange: handleChange,\n          defaultSelection: _this.getDefaultSelection()\n        }, props)));\n      };\n    };\n\n    _this.getRecordKey = function (record, index) {\n      var rowKey = _this.props.rowKey;\n      var recordKey = typeof rowKey === 'function' ? rowKey(record, index) : record[rowKey];\n      warning(recordKey !== undefined, 'Table', 'Each record in dataSource of table should have a unique `key` prop, ' + 'or set `rowKey` of Table to an unique primary key, ' + 'see https://u.ant.design/table-row-key');\n      return recordKey === undefined ? index : recordKey;\n    };\n\n    _this.getPopupContainer = function () {\n      return ReactDOM.findDOMNode(_assertThisInitialized(_this));\n    };\n\n    _this.generatePopupContainerFunc = function () {\n      var scroll = _this.props.scroll; // Use undefined to let rc component use default logic.\n\n      return scroll ? _this.getPopupContainer : undefined;\n    };\n\n    _this.handleShowSizeChange = function (current, pageSize) {\n      var pagination = _this.state.pagination;\n      pagination.onShowSizeChange(current, pageSize);\n\n      var nextPagination = _extends({}, pagination, {\n        pageSize: pageSize,\n        current: current\n      });\n\n      _this.setState({\n        pagination: nextPagination\n      });\n\n      var onChange = _this.props.onChange;\n\n      if (onChange) {\n        onChange.apply(null, _this.prepareParamsArguments(_extends({}, _this.state, {\n          pagination: nextPagination\n        })));\n      }\n    };\n\n    _this.renderTable = function (prefixCls, renderEmpty, dropdownPrefixCls, contextLocale) {\n      var _classNames;\n\n      var _a = _this.props,\n          style = _a.style,\n          className = _a.className,\n          showHeader = _a.showHeader,\n          locale = _a.locale,\n          restProps = __rest(_a, [\"style\", \"className\", \"showHeader\", \"locale\"]);\n\n      var data = _this.getCurrentPageData();\n\n      var expandIconAsCell = _this.props.expandedRowRender && _this.props.expandIconAsCell !== false;\n\n      var mergedLocale = _extends({}, contextLocale, locale);\n\n      if (!locale || !locale.emptyText) {\n        mergedLocale.emptyText = renderEmpty('Table');\n      }\n\n      var classString = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(_this.props.size), true), _defineProperty(_classNames, \"\".concat(prefixCls, \"-bordered\"), _this.props.bordered), _defineProperty(_classNames, \"\".concat(prefixCls, \"-empty\"), !data.length), _defineProperty(_classNames, \"\".concat(prefixCls, \"-without-column-header\"), !showHeader), _classNames));\n\n      var columns = _this.renderRowSelection(prefixCls, mergedLocale);\n\n      columns = _this.renderColumnsDropdown(prefixCls, dropdownPrefixCls, columns, mergedLocale);\n      columns = columns.map(function (column, i) {\n        var newColumn = _extends({}, column);\n\n        newColumn.key = _this.getColumnKey(newColumn, i);\n        return newColumn;\n      });\n      var expandIconColumnIndex = columns[0] && columns[0].key === 'selection-column' ? 1 : 0;\n\n      if ('expandIconColumnIndex' in restProps) {\n        expandIconColumnIndex = restProps.expandIconColumnIndex;\n      }\n\n      return React.createElement(RcTable, _extends({\n        key: \"table\"\n      }, restProps, {\n        onRow: function onRow(record, index) {\n          return _this.onRow(prefixCls, record, index);\n        },\n        components: _this.components,\n        prefixCls: prefixCls,\n        data: data,\n        columns: columns,\n        showHeader: showHeader,\n        className: classString,\n        expandIconColumnIndex: expandIconColumnIndex,\n        expandIconAsCell: expandIconAsCell,\n        emptyText: mergedLocale.emptyText\n      }));\n    };\n\n    _this.renderComponent = function (_ref) {\n      var getPrefixCls = _ref.getPrefixCls,\n          renderEmpty = _ref.renderEmpty;\n      var _this$props = _this.props,\n          customizePrefixCls = _this$props.prefixCls,\n          customizeDropdownPrefixCls = _this$props.dropdownPrefixCls,\n          style = _this$props.style,\n          className = _this$props.className;\n\n      var data = _this.getCurrentPageData();\n\n      var loading = _this.props.loading;\n\n      if (typeof loading === 'boolean') {\n        loading = {\n          spinning: loading\n        };\n      }\n\n      var prefixCls = getPrefixCls('table', customizePrefixCls);\n      var dropdownPrefixCls = getPrefixCls('dropdown', customizeDropdownPrefixCls);\n      var table = React.createElement(LocaleReceiver, {\n        componentName: \"Table\",\n        defaultLocale: defaultLocale.Table\n      }, function (locale) {\n        return _this.renderTable(prefixCls, renderEmpty, dropdownPrefixCls, locale);\n      }); // if there is no pagination or no data,\n      // the height of spin should decrease by half of pagination\n\n      var paginationPatchClass = _this.hasPagination() && data && data.length !== 0 ? \"\".concat(prefixCls, \"-with-pagination\") : \"\".concat(prefixCls, \"-without-pagination\");\n      return React.createElement(\"div\", {\n        className: classNames(\"\".concat(prefixCls, \"-wrapper\"), className),\n        style: style\n      }, React.createElement(Spin, _extends({}, loading, {\n        className: loading.spinning ? \"\".concat(paginationPatchClass, \" \").concat(prefixCls, \"-spin-holder\") : ''\n      }), _this.renderPagination(prefixCls, 'top'), table, _this.renderPagination(prefixCls, 'bottom')));\n    };\n\n    var expandedRowRender = props.expandedRowRender,\n        _props$columns = props.columns,\n        columns = _props$columns === void 0 ? [] : _props$columns;\n    warning(!('columnsPageRange' in props || 'columnsPageSize' in props), 'Table', '`columnsPageRange` and `columnsPageSize` are removed, please use ' + 'fixed columns instead, see: https://u.ant.design/fixed-columns.');\n\n    if (expandedRowRender && columns.some(function (_ref2) {\n      var fixed = _ref2.fixed;\n      return !!fixed;\n    })) {\n      warning(false, 'Table', '`expandedRowRender` and `Column.fixed` are not compatible. Please use one of them at one time.');\n    }\n\n    _this.columns = props.columns || normalizeColumns(props.children);\n\n    _this.createComponents(props.components);\n\n    _this.state = _extends({}, _this.getDefaultSortOrder(_this.columns), {\n      // 减少状态\n      filters: _this.getFiltersFromColumns(),\n      pagination: _this.getDefaultPagination(props),\n      pivot: undefined\n    });\n    _this.CheckboxPropsCache = {};\n    _this.store = createStore({\n      selectedRowKeys: getRowSelection(props).selectedRowKeys || [],\n      selectionDirty: false\n    });\n    return _this;\n  }\n\n  _createClass(Table, [{\n    key: \"getDefaultSelection\",\n    value: function getDefaultSelection() {\n      var _this2 = this;\n\n      var rowSelection = getRowSelection(this.props);\n\n      if (!rowSelection.getCheckboxProps) {\n        return [];\n      }\n\n      return this.getFlatData().filter(function (item, rowIndex) {\n        return _this2.getCheckboxPropsByItem(item, rowIndex).defaultChecked;\n      }).map(function (record, rowIndex) {\n        return _this2.getRecordKey(record, rowIndex);\n      });\n    }\n  }, {\n    key: \"getDefaultPagination\",\n    value: function getDefaultPagination(props) {\n      var pagination = _typeof(props.pagination) === 'object' ? props.pagination : {};\n      var current;\n\n      if ('current' in pagination) {\n        current = pagination.current;\n      } else if ('defaultCurrent' in pagination) {\n        current = pagination.defaultCurrent;\n      }\n\n      var pageSize;\n\n      if ('pageSize' in pagination) {\n        pageSize = pagination.pageSize;\n      } else if ('defaultPageSize' in pagination) {\n        pageSize = pagination.defaultPageSize;\n      }\n\n      return this.hasPagination(props) ? _extends({}, defaultPagination, pagination, {\n        current: current || 1,\n        pageSize: pageSize || 10\n      }) : {};\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      this.columns = nextProps.columns || normalizeColumns(nextProps.children);\n\n      if ('pagination' in nextProps || 'pagination' in this.props) {\n        this.setState(function (previousState) {\n          var newPagination = _extends({}, defaultPagination, previousState.pagination, nextProps.pagination);\n\n          newPagination.current = newPagination.current || 1;\n          newPagination.pageSize = newPagination.pageSize || 10;\n          return {\n            pagination: nextProps.pagination !== false ? newPagination : emptyObject\n          };\n        });\n      }\n\n      if (nextProps.rowSelection && 'selectedRowKeys' in nextProps.rowSelection) {\n        this.store.setState({\n          selectedRowKeys: nextProps.rowSelection.selectedRowKeys || []\n        });\n      } else if (this.props.rowSelection && !nextProps.rowSelection) {\n        this.store.setState({\n          selectedRowKeys: []\n        });\n      }\n\n      if ('dataSource' in nextProps && nextProps.dataSource !== this.props.dataSource) {\n        this.store.setState({\n          selectionDirty: false\n        });\n      } // https://github.com/ant-design/ant-design/issues/10133\n\n\n      this.CheckboxPropsCache = {};\n\n      if (this.getSortOrderColumns(this.columns).length > 0) {\n        var sortState = this.getSortStateFromColumns(this.columns);\n\n        if (sortState.sortColumn !== this.state.sortColumn || sortState.sortOrder !== this.state.sortOrder) {\n          this.setState(sortState);\n        }\n      }\n\n      var filteredValueColumns = this.getFilteredValueColumns(this.columns);\n\n      if (filteredValueColumns.length > 0) {\n        var filtersFromColumns = this.getFiltersFromColumns(this.columns);\n\n        var newFilters = _extends({}, this.state.filters);\n\n        Object.keys(filtersFromColumns).forEach(function (key) {\n          newFilters[key] = filtersFromColumns[key];\n        });\n\n        if (this.isFiltersChanged(newFilters)) {\n          this.setState({\n            filters: newFilters\n          });\n        }\n      }\n\n      this.createComponents(nextProps.components, this.props.components);\n    }\n  }, {\n    key: \"setSelectedRowKeys\",\n    value: function setSelectedRowKeys(selectedRowKeys, selectionInfo) {\n      var _this3 = this;\n\n      var selectWay = selectionInfo.selectWay,\n          record = selectionInfo.record,\n          checked = selectionInfo.checked,\n          changeRowKeys = selectionInfo.changeRowKeys,\n          nativeEvent = selectionInfo.nativeEvent;\n      var rowSelection = getRowSelection(this.props);\n\n      if (rowSelection && !('selectedRowKeys' in rowSelection)) {\n        this.store.setState({\n          selectedRowKeys: selectedRowKeys\n        });\n      }\n\n      var data = this.getFlatData();\n\n      if (!rowSelection.onChange && !rowSelection[selectWay]) {\n        return;\n      }\n\n      var selectedRows = data.filter(function (row, i) {\n        return selectedRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n      });\n\n      if (rowSelection.onChange) {\n        rowSelection.onChange(selectedRowKeys, selectedRows);\n      }\n\n      if (selectWay === 'onSelect' && rowSelection.onSelect) {\n        rowSelection.onSelect(record, checked, selectedRows, nativeEvent);\n      } else if (selectWay === 'onSelectMultiple' && rowSelection.onSelectMultiple) {\n        var changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n        });\n        rowSelection.onSelectMultiple(checked, selectedRows, changeRows);\n      } else if (selectWay === 'onSelectAll' && rowSelection.onSelectAll) {\n        var _changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n        });\n\n        rowSelection.onSelectAll(checked, selectedRows, _changeRows);\n      } else if (selectWay === 'onSelectInvert' && rowSelection.onSelectInvert) {\n        rowSelection.onSelectInvert(selectedRowKeys);\n      }\n    }\n  }, {\n    key: \"hasPagination\",\n    value: function hasPagination(props) {\n      return (props || this.props).pagination !== false;\n    }\n  }, {\n    key: \"isFiltersChanged\",\n    value: function isFiltersChanged(filters) {\n      var _this4 = this;\n\n      var filtersChanged = false;\n\n      if (Object.keys(filters).length !== Object.keys(this.state.filters).length) {\n        filtersChanged = true;\n      } else {\n        Object.keys(filters).forEach(function (columnKey) {\n          if (filters[columnKey] !== _this4.state.filters[columnKey]) {\n            filtersChanged = true;\n          }\n        });\n      }\n\n      return filtersChanged;\n    }\n  }, {\n    key: \"getSortOrderColumns\",\n    value: function getSortOrderColumns(columns) {\n      return flatFilter(columns || this.columns || [], function (column) {\n        return 'sortOrder' in column;\n      });\n    }\n  }, {\n    key: \"getFilteredValueColumns\",\n    value: function getFilteredValueColumns(columns) {\n      return flatFilter(columns || this.columns || [], function (column) {\n        return typeof column.filteredValue !== 'undefined';\n      });\n    }\n  }, {\n    key: \"getFiltersFromColumns\",\n    value: function getFiltersFromColumns(columns) {\n      var _this5 = this;\n\n      var filters = {};\n      this.getFilteredValueColumns(columns).forEach(function (col) {\n        var colKey = _this5.getColumnKey(col);\n\n        filters[colKey] = col.filteredValue;\n      });\n      return filters;\n    }\n  }, {\n    key: \"getDefaultSortOrder\",\n    value: function getDefaultSortOrder(columns) {\n      var definedSortState = this.getSortStateFromColumns(columns);\n      var defaultSortedColumn = flatFilter(columns || [], function (column) {\n        return column.defaultSortOrder != null;\n      })[0];\n\n      if (defaultSortedColumn && !definedSortState.sortColumn) {\n        return {\n          sortColumn: defaultSortedColumn,\n          sortOrder: defaultSortedColumn.defaultSortOrder\n        };\n      }\n\n      return definedSortState;\n    }\n  }, {\n    key: \"getSortStateFromColumns\",\n    value: function getSortStateFromColumns(columns) {\n      // return first column which sortOrder is not falsy\n      var sortedColumn = this.getSortOrderColumns(columns).filter(function (col) {\n        return col.sortOrder;\n      })[0];\n\n      if (sortedColumn) {\n        return {\n          sortColumn: sortedColumn,\n          sortOrder: sortedColumn.sortOrder\n        };\n      }\n\n      return {\n        sortColumn: null,\n        sortOrder: null\n      };\n    }\n  }, {\n    key: \"getSorterFn\",\n    value: function getSorterFn(state) {\n      var _ref3 = state || this.state,\n          sortOrder = _ref3.sortOrder,\n          sortColumn = _ref3.sortColumn;\n\n      if (!sortOrder || !sortColumn || typeof sortColumn.sorter !== 'function') {\n        return;\n      }\n\n      return function (a, b) {\n        var result = sortColumn.sorter(a, b, sortOrder);\n\n        if (result !== 0) {\n          return sortOrder === 'descend' ? -result : result;\n        }\n\n        return 0;\n      };\n    }\n  }, {\n    key: \"isSameColumn\",\n    value: function isSameColumn(a, b) {\n      if (a && b && a.key && a.key === b.key) {\n        return true;\n      }\n\n      return a === b || shallowEqual(a, b, function (value, other) {\n        if (typeof value === 'function' && typeof other === 'function') {\n          return value === other || value.toString() === other.toString();\n        }\n      });\n    }\n  }, {\n    key: \"toggleSortOrder\",\n    value: function toggleSortOrder(column) {\n      if (!column.sorter) {\n        return;\n      }\n\n      var sortDirections = column.sortDirections || this.props.sortDirections;\n      var _this$state = this.state,\n          sortOrder = _this$state.sortOrder,\n          sortColumn = _this$state.sortColumn; // 只同时允许一列进行排序，否则会导致排序顺序的逻辑问题\n\n      var newSortOrder; // 切换另一列时，丢弃 sortOrder 的状态\n\n      if (this.isSameColumn(sortColumn, column) && sortOrder !== undefined) {\n        // 按照sortDirections的内容依次切换排序状态\n        var methodIndex = sortDirections.indexOf(sortOrder) + 1;\n        newSortOrder = methodIndex === sortDirections.length ? undefined : sortDirections[methodIndex];\n      } else {\n        newSortOrder = sortDirections[0];\n      }\n\n      var newState = {\n        sortOrder: newSortOrder,\n        sortColumn: newSortOrder ? column : null\n      }; // Controlled\n\n      if (this.getSortOrderColumns().length === 0) {\n        this.setState(newState);\n      }\n\n      var onChange = this.props.onChange;\n\n      if (onChange) {\n        onChange.apply(null, this.prepareParamsArguments(_extends({}, this.state, newState)));\n      }\n    }\n  }, {\n    key: \"renderRowSelection\",\n    value: function renderRowSelection(prefixCls, locale) {\n      var _this6 = this;\n\n      var rowSelection = this.props.rowSelection;\n      var columns = this.columns.concat();\n\n      if (rowSelection) {\n        var data = this.getFlatCurrentPageData().filter(function (item, index) {\n          if (rowSelection.getCheckboxProps) {\n            return !_this6.getCheckboxPropsByItem(item, index).disabled;\n          }\n\n          return true;\n        });\n        var selectionColumnClass = classNames(\"\".concat(prefixCls, \"-selection-column\"), _defineProperty({}, \"\".concat(prefixCls, \"-selection-column-custom\"), rowSelection.selections));\n\n        var selectionColumn = _defineProperty({\n          key: 'selection-column',\n          render: this.renderSelectionBox(rowSelection.type),\n          className: selectionColumnClass,\n          fixed: rowSelection.fixed,\n          width: rowSelection.columnWidth,\n          title: rowSelection.columnTitle\n        }, INTERNAL_COL_DEFINE, {\n          className: \"\".concat(prefixCls, \"-selection-col\")\n        });\n\n        if (rowSelection.type !== 'radio') {\n          var checkboxAllDisabled = data.every(function (item, index) {\n            return _this6.getCheckboxPropsByItem(item, index).disabled;\n          });\n          selectionColumn.title = selectionColumn.title || React.createElement(SelectionCheckboxAll, {\n            store: this.store,\n            locale: locale,\n            data: data,\n            getCheckboxPropsByItem: this.getCheckboxPropsByItem,\n            getRecordKey: this.getRecordKey,\n            disabled: checkboxAllDisabled,\n            prefixCls: prefixCls,\n            onSelect: this.handleSelectRow,\n            selections: rowSelection.selections,\n            hideDefaultSelections: rowSelection.hideDefaultSelections,\n            getPopupContainer: this.generatePopupContainerFunc()\n          });\n        }\n\n        if ('fixed' in rowSelection) {\n          selectionColumn.fixed = rowSelection.fixed;\n        } else if (columns.some(function (column) {\n          return column.fixed === 'left' || column.fixed === true;\n        })) {\n          selectionColumn.fixed = 'left';\n        }\n\n        if (columns[0] && columns[0].key === 'selection-column') {\n          columns[0] = selectionColumn;\n        } else {\n          columns.unshift(selectionColumn);\n        }\n      }\n\n      return columns;\n    }\n  }, {\n    key: \"getColumnKey\",\n    value: function getColumnKey(column, index) {\n      return column.key || column.dataIndex || index;\n    }\n  }, {\n    key: \"getMaxCurrent\",\n    value: function getMaxCurrent(total) {\n      var _this$state$paginatio = this.state.pagination,\n          current = _this$state$paginatio.current,\n          pageSize = _this$state$paginatio.pageSize;\n\n      if ((current - 1) * pageSize >= total) {\n        return Math.floor((total - 1) / pageSize) + 1;\n      }\n\n      return current;\n    }\n  }, {\n    key: \"isSortColumn\",\n    value: function isSortColumn(column) {\n      var sortColumn = this.state.sortColumn;\n\n      if (!column || !sortColumn) {\n        return false;\n      }\n\n      return this.getColumnKey(sortColumn) === this.getColumnKey(column);\n    }\n  }, {\n    key: \"renderColumnsDropdown\",\n    value: function renderColumnsDropdown(prefixCls, dropdownPrefixCls, columns, locale) {\n      var _this7 = this;\n\n      var _this$state2 = this.state,\n          sortOrder = _this$state2.sortOrder,\n          filters = _this$state2.filters;\n      return treeMap(columns, function (column, i) {\n        var _classNames3;\n\n        var key = _this7.getColumnKey(column, i);\n\n        var filterDropdown;\n        var sortButton;\n        var onHeaderCell = column.onHeaderCell;\n\n        var isSortColumn = _this7.isSortColumn(column);\n\n        if (column.filters && column.filters.length > 0 || column.filterDropdown) {\n          var colFilters = key in filters ? filters[key] : [];\n          filterDropdown = React.createElement(FilterDropdown, {\n            locale: locale,\n            column: column,\n            selectedKeys: colFilters,\n            confirmFilter: _this7.handleFilter,\n            prefixCls: \"\".concat(prefixCls, \"-filter\"),\n            dropdownPrefixCls: dropdownPrefixCls || 'ant-dropdown',\n            getPopupContainer: _this7.generatePopupContainerFunc(),\n            key: \"filter-dropdown\"\n          });\n        }\n\n        if (column.sorter) {\n          var sortDirections = column.sortDirections || _this7.props.sortDirections;\n          var isAscend = isSortColumn && sortOrder === 'ascend';\n          var isDescend = isSortColumn && sortOrder === 'descend';\n          var ascend = sortDirections.indexOf('ascend') !== -1 && React.createElement(Icon, {\n            className: \"\".concat(prefixCls, \"-column-sorter-up \").concat(isAscend ? 'on' : 'off'),\n            type: \"caret-up\",\n            theme: \"filled\"\n          });\n          var descend = sortDirections.indexOf('descend') !== -1 && React.createElement(Icon, {\n            className: \"\".concat(prefixCls, \"-column-sorter-down \").concat(isDescend ? 'on' : 'off'),\n            type: \"caret-down\",\n            theme: \"filled\"\n          });\n          sortButton = React.createElement(\"div\", {\n            title: locale.sortTitle,\n            className: classNames(\"\".concat(prefixCls, \"-column-sorter-inner\"), ascend && descend && \"\".concat(prefixCls, \"-column-sorter-inner-full\")),\n            key: \"sorter\"\n          }, ascend, descend);\n\n          onHeaderCell = function onHeaderCell(col) {\n            var colProps = {}; // Get original first\n\n            if (column.onHeaderCell) {\n              colProps = _extends({}, column.onHeaderCell(col));\n            } // Add sorter logic\n\n\n            var onHeaderCellClick = colProps.onClick;\n\n            colProps.onClick = function () {\n              _this7.toggleSortOrder(column);\n\n              if (onHeaderCellClick) {\n                onHeaderCellClick.apply(void 0, arguments);\n              }\n            };\n\n            return colProps;\n          };\n        }\n\n        return _extends({}, column, {\n          className: classNames(column.className, (_classNames3 = {}, _defineProperty(_classNames3, \"\".concat(prefixCls, \"-column-has-actions\"), sortButton || filterDropdown), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-column-has-filters\"), filterDropdown), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-column-has-sorters\"), sortButton), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-column-sort\"), isSortColumn && sortOrder), _classNames3)),\n          title: [React.createElement(\"span\", {\n            key: \"title\",\n            className: \"\".concat(prefixCls, \"-header-column\")\n          }, React.createElement(\"div\", {\n            className: sortButton ? \"\".concat(prefixCls, \"-column-sorters\") : undefined\n          }, React.createElement(\"span\", {\n            className: \"\".concat(prefixCls, \"-column-title\")\n          }, _this7.renderColumnTitle(column.title)), React.createElement(\"span\", {\n            className: \"\".concat(prefixCls, \"-column-sorter\")\n          }, sortButton))), filterDropdown],\n          onHeaderCell: onHeaderCell\n        });\n      });\n    }\n  }, {\n    key: \"renderColumnTitle\",\n    value: function renderColumnTitle(title) {\n      var _this$state3 = this.state,\n          filters = _this$state3.filters,\n          sortOrder = _this$state3.sortOrder; // https://github.com/ant-design/ant-design/issues/11246#issuecomment-405009167\n\n      if (title instanceof Function) {\n        return title({\n          filters: filters,\n          sortOrder: sortOrder\n        });\n      }\n\n      return title;\n    }\n  }, {\n    key: \"renderPagination\",\n    value: function renderPagination(prefixCls, paginationPosition) {\n      // 强制不需要分页\n      if (!this.hasPagination()) {\n        return null;\n      }\n\n      var size = 'default';\n      var pagination = this.state.pagination;\n\n      if (pagination.size) {\n        size = pagination.size;\n      } else if (this.props.size === 'middle' || this.props.size === 'small') {\n        size = 'small';\n      }\n\n      var position = pagination.position || 'bottom';\n      var total = pagination.total || this.getLocalData().length;\n      return total > 0 && (position === paginationPosition || position === 'both') ? React.createElement(Pagination, _extends({\n        key: \"pagination-\".concat(paginationPosition)\n      }, pagination, {\n        className: classNames(pagination.className, \"\".concat(prefixCls, \"-pagination\")),\n        onChange: this.handlePageChange,\n        total: total,\n        size: size,\n        current: this.getMaxCurrent(total),\n        onShowSizeChange: this.handleShowSizeChange\n      })) : null;\n    } // Get pagination, filters, sorter\n\n  }, {\n    key: \"prepareParamsArguments\",\n    value: function prepareParamsArguments(state) {\n      var pagination = _extends({}, state.pagination); // remove useless handle function in Table.onChange\n\n\n      delete pagination.onChange;\n      delete pagination.onShowSizeChange;\n      var filters = state.filters;\n      var sorter = {};\n\n      if (state.sortColumn && state.sortOrder) {\n        sorter.column = state.sortColumn;\n        sorter.order = state.sortOrder;\n        sorter.field = state.sortColumn.dataIndex;\n        sorter.columnKey = this.getColumnKey(state.sortColumn);\n      }\n\n      var extra = {\n        currentDataSource: this.getLocalData(state)\n      };\n      return [pagination, filters, sorter, extra];\n    }\n  }, {\n    key: \"findColumn\",\n    value: function findColumn(myKey) {\n      var _this8 = this;\n\n      var column;\n      treeMap(this.columns, function (c) {\n        if (_this8.getColumnKey(c) === myKey) {\n          column = c;\n        }\n      });\n      return column;\n    }\n  }, {\n    key: \"getCurrentPageData\",\n    value: function getCurrentPageData() {\n      var data = this.getLocalData();\n      var current;\n      var pageSize;\n      var state = this.state; // 如果没有分页的话，默认全部展示\n\n      if (!this.hasPagination()) {\n        pageSize = Number.MAX_VALUE;\n        current = 1;\n      } else {\n        pageSize = state.pagination.pageSize;\n        current = this.getMaxCurrent(state.pagination.total || data.length);\n      } // 分页\n      // ---\n      // 当数据量少于等于每页数量时，直接设置数据\n      // 否则进行读取分页数据\n\n\n      if (data.length > pageSize || pageSize === Number.MAX_VALUE) {\n        data = data.filter(function (_, i) {\n          return i >= (current - 1) * pageSize && i < current * pageSize;\n        });\n      }\n\n      return data;\n    }\n  }, {\n    key: \"getFlatData\",\n    value: function getFlatData() {\n      var childrenColumnName = this.props.childrenColumnName;\n      return flatArray(this.getLocalData(null, false), childrenColumnName);\n    }\n  }, {\n    key: \"getFlatCurrentPageData\",\n    value: function getFlatCurrentPageData() {\n      var childrenColumnName = this.props.childrenColumnName;\n      return flatArray(this.getCurrentPageData(), childrenColumnName);\n    }\n  }, {\n    key: \"recursiveSort\",\n    value: function recursiveSort(data, sorterFn) {\n      var _this9 = this;\n\n      var _this$props$childrenC = this.props.childrenColumnName,\n          childrenColumnName = _this$props$childrenC === void 0 ? 'children' : _this$props$childrenC;\n      return data.sort(sorterFn).map(function (item) {\n        return item[childrenColumnName] ? _extends({}, item, _defineProperty({}, childrenColumnName, _this9.recursiveSort(item[childrenColumnName], sorterFn))) : item;\n      });\n    }\n  }, {\n    key: \"getLocalData\",\n    value: function getLocalData(state) {\n      var _this10 = this;\n\n      var filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var currentState = state || this.state;\n      var dataSource = this.props.dataSource;\n      var data = dataSource || []; // 优化本地排序\n\n      data = data.slice(0);\n      var sorterFn = this.getSorterFn(currentState);\n\n      if (sorterFn) {\n        data = this.recursiveSort(data, sorterFn);\n      } // 筛选\n\n\n      if (filter && currentState.filters) {\n        Object.keys(currentState.filters).forEach(function (columnKey) {\n          var col = _this10.findColumn(columnKey);\n\n          if (!col) {\n            return;\n          }\n\n          var values = currentState.filters[columnKey] || [];\n\n          if (values.length === 0) {\n            return;\n          }\n\n          var onFilter = col.onFilter;\n          data = onFilter ? data.filter(function (record) {\n            return values.some(function (v) {\n              return onFilter(v, record);\n            });\n          }) : data;\n        });\n      }\n\n      return data;\n    }\n  }, {\n    key: \"createComponents\",\n    value: function createComponents() {\n      var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var prevComponents = arguments.length > 1 ? arguments[1] : undefined;\n      var bodyRow = components && components.body && components.body.row;\n      var preBodyRow = prevComponents && prevComponents.body && prevComponents.body.row;\n\n      if (!this.row || bodyRow !== preBodyRow) {\n        this.row = createBodyRow(bodyRow);\n      }\n\n      this.components = _extends({}, components, {\n        body: _extends({}, components.body, {\n          row: this.row\n        })\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(ConfigConsumer, null, this.renderComponent);\n    }\n  }]);\n\n  return Table;\n}(React.Component);\n\nexport { Table as default };\nTable.Column = Column;\nTable.ColumnGroup = ColumnGroup;\nTable.propTypes = {\n  dataSource: PropTypes.array,\n  columns: PropTypes.array,\n  prefixCls: PropTypes.string,\n  useFixedHeader: PropTypes.bool,\n  rowSelection: PropTypes.object,\n  className: PropTypes.string,\n  size: PropTypes.string,\n  loading: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  bordered: PropTypes.bool,\n  onChange: PropTypes.func,\n  locale: PropTypes.object,\n  dropdownPrefixCls: PropTypes.string,\n  sortDirections: PropTypes.array\n};\nTable.defaultProps = {\n  dataSource: [],\n  useFixedHeader: false,\n  className: '',\n  size: 'default',\n  loading: false,\n  bordered: false,\n  indentSize: 20,\n  locale: {},\n  rowKey: 'key',\n  showHeader: true,\n  sortDirections: ['ascend', 'descend'],\n  childrenColumnName: 'children'\n};","map":{"version":3,"sources":["/Users/jaylon_ho/Documents/GitHub/ACManeger/FrontEnd/node_modules/antd/es/table/Table.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_defineProperty","key","value","Object","defineProperty","enumerable","configurable","writable","_extends","assign","target","i","arguments","length","source","hasOwnProperty","call","apply","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","_setPrototypeOf","p","__rest","s","e","t","indexOf","getOwnPropertySymbols","React","ReactDOM","RcTable","INTERNAL_COL_DEFINE","PropTypes","classNames","shallowEqual","FilterDropdown","createStore","SelectionBox","SelectionCheckboxAll","Column","ColumnGroup","createBodyRow","flatArray","treeMap","flatFilter","normalizeColumns","Pagination","Icon","Spin","LocaleReceiver","defaultLocale","ConfigConsumer","warning","noop","stopPropagation","nativeEvent","stopImmediatePropagation","getRowSelection","rowSelection","defaultPagination","onChange","onShowSizeChange","emptyObject","Table","_React$Component","_this","getCheckboxPropsByItem","item","index","getCheckboxProps","getRecordKey","CheckboxPropsCache","checkboxProps","onRow","prefixCls","record","custom","store","rowKey","handleFilter","column","nextFilters","pagination","state","filters","getColumnKey","currentColumnKeys","columns","c","children","push","keys","forEach","columnKey","current","newState","filtersToSetState","getFilteredValueColumns","col","setState","selectionDirty","prepareParamsArguments","handleSelect","rowIndex","checked","defaultSelection","getState","getDefaultSelection","selectedRowKeys","concat","pivot","rows","getFlatCurrentPageData","realIndex","expandedRowRender","findIndex","row","shiftKey","undefined","changeRowKeys","direction","Math","sign","dist","abs","step","_loop","disabled","includes","filter","j","setSelectedRowKeys","selectWay","handleRadioSelect","handleSelectRow","selectionKey","onSelectFunc","data","changeableRowKeys","map","splice","customSelectionStartIndex","hideDefaultSelections","handlePageChange","_len","otherArguments","Array","_key","renderSelectionBox","type","_","handleChange","createElement","onClick","recordKey","getPopupContainer","findDOMNode","generatePopupContainerFunc","scroll","handleShowSizeChange","pageSize","nextPagination","renderTable","renderEmpty","dropdownPrefixCls","contextLocale","_classNames","_a","style","className","showHeader","locale","restProps","getCurrentPageData","expandIconAsCell","mergedLocale","emptyText","classString","size","bordered","renderRowSelection","renderColumnsDropdown","newColumn","expandIconColumnIndex","components","renderComponent","_ref","getPrefixCls","_this$props","customizePrefixCls","customizeDropdownPrefixCls","loading","spinning","table","componentName","paginationPatchClass","hasPagination","renderPagination","_props$columns","some","_ref2","fixed","createComponents","getDefaultSortOrder","getFiltersFromColumns","getDefaultPagination","_this2","getFlatData","defaultChecked","defaultCurrent","defaultPageSize","componentWillReceiveProps","nextProps","previousState","newPagination","dataSource","getSortOrderColumns","sortState","getSortStateFromColumns","sortColumn","sortOrder","filteredValueColumns","filtersFromColumns","newFilters","isFiltersChanged","selectionInfo","_this3","selectedRows","onSelect","onSelectMultiple","changeRows","onSelectAll","_changeRows","onSelectInvert","_this4","filtersChanged","filteredValue","_this5","colKey","definedSortState","defaultSortedColumn","defaultSortOrder","sortedColumn","getSorterFn","_ref3","sorter","a","b","result","isSameColumn","other","toString","toggleSortOrder","sortDirections","_this$state","newSortOrder","methodIndex","_this6","selectionColumnClass","selections","selectionColumn","render","width","columnWidth","title","columnTitle","checkboxAllDisabled","every","unshift","dataIndex","getMaxCurrent","total","_this$state$paginatio","floor","isSortColumn","_this7","_this$state2","_classNames3","filterDropdown","sortButton","onHeaderCell","colFilters","selectedKeys","confirmFilter","isAscend","isDescend","ascend","theme","descend","sortTitle","colProps","onHeaderCellClick","renderColumnTitle","_this$state3","Function","paginationPosition","position","getLocalData","order","field","extra","currentDataSource","findColumn","myKey","_this8","Number","MAX_VALUE","childrenColumnName","recursiveSort","sorterFn","_this9","_this$props$childrenC","sort","_this10","currentState","slice","values","onFilter","v","prevComponents","bodyRow","body","preBodyRow","Component","default","propTypes","array","string","useFixedHeader","bool","object","oneOfType","func","defaultProps","indentSize"],"mappings":"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","sourcesContent":["function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport RcTable, { INTERNAL_COL_DEFINE } from 'rc-table';\nimport * as PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport shallowEqual from 'shallowequal';\nimport FilterDropdown from './filterDropdown';\nimport createStore from './createStore';\nimport SelectionBox from './SelectionBox';\nimport SelectionCheckboxAll from './SelectionCheckboxAll';\nimport Column from './Column';\nimport ColumnGroup from './ColumnGroup';\nimport createBodyRow from './createBodyRow';\nimport { flatArray, treeMap, flatFilter, normalizeColumns } from './util';\nimport Pagination from '../pagination';\nimport Icon from '../icon';\nimport Spin from '../spin';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from '../locale-provider/default';\nimport { ConfigConsumer } from '../config-provider';\nimport warning from '../_util/warning';\n\nfunction noop() {}\n\nfunction stopPropagation(e) {\n  e.stopPropagation();\n\n  if (e.nativeEvent.stopImmediatePropagation) {\n    e.nativeEvent.stopImmediatePropagation();\n  }\n}\n\nfunction getRowSelection(props) {\n  return props.rowSelection || {};\n}\n\nvar defaultPagination = {\n  onChange: noop,\n  onShowSizeChange: noop\n};\n/**\n * Avoid creating new object, so that parent component's shouldComponentUpdate\n * can works appropriately。\n */\n\nvar emptyObject = {};\n\nvar Table =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Table, _React$Component);\n\n  function Table(props) {\n    var _this;\n\n    _classCallCheck(this, Table);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Table).call(this, props));\n\n    _this.getCheckboxPropsByItem = function (item, index) {\n      var rowSelection = getRowSelection(_this.props);\n\n      if (!rowSelection.getCheckboxProps) {\n        return {};\n      }\n\n      var key = _this.getRecordKey(item, index); // Cache checkboxProps\n\n\n      if (!_this.CheckboxPropsCache[key]) {\n        var checkboxProps = _this.CheckboxPropsCache[key] = rowSelection.getCheckboxProps(item);\n        warning(!('checked' in checkboxProps) && !('defaultChecked' in checkboxProps), 'Table', 'Do not set `checked` or `defaultChecked` in `getCheckboxProps`. Please use `selectedRowKeys` instead.');\n      }\n\n      return _this.CheckboxPropsCache[key];\n    };\n\n    _this.onRow = function (prefixCls, record, index) {\n      var onRow = _this.props.onRow;\n      var custom = onRow ? onRow(record, index) : {};\n      return _extends({}, custom, {\n        prefixCls: prefixCls,\n        store: _this.store,\n        rowKey: _this.getRecordKey(record, index)\n      });\n    };\n\n    _this.handleFilter = function (column, nextFilters) {\n      var props = _this.props;\n\n      var pagination = _extends({}, _this.state.pagination);\n\n      var filters = _extends({}, _this.state.filters, _defineProperty({}, _this.getColumnKey(column), nextFilters)); // Remove filters not in current columns\n\n\n      var currentColumnKeys = [];\n      treeMap(_this.columns, function (c) {\n        if (!c.children) {\n          currentColumnKeys.push(_this.getColumnKey(c));\n        }\n      });\n      Object.keys(filters).forEach(function (columnKey) {\n        if (currentColumnKeys.indexOf(columnKey) < 0) {\n          delete filters[columnKey];\n        }\n      });\n\n      if (props.pagination) {\n        // Reset current prop\n        pagination.current = 1;\n        pagination.onChange(pagination.current);\n      }\n\n      var newState = {\n        pagination: pagination,\n        filters: {}\n      };\n\n      var filtersToSetState = _extends({}, filters); // Remove filters which is controlled\n\n\n      _this.getFilteredValueColumns().forEach(function (col) {\n        var columnKey = _this.getColumnKey(col);\n\n        if (columnKey) {\n          delete filtersToSetState[columnKey];\n        }\n      });\n\n      if (Object.keys(filtersToSetState).length > 0) {\n        newState.filters = filtersToSetState;\n      } // Controlled current prop will not respond user interaction\n\n\n      if (_typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.pagination = _extends({}, pagination, {\n          current: _this.state.pagination.current\n        });\n      }\n\n      _this.setState(newState, function () {\n        _this.store.setState({\n          selectionDirty: false\n        });\n\n        var onChange = _this.props.onChange;\n\n        if (onChange) {\n          onChange.apply(null, _this.prepareParamsArguments(_extends({}, _this.state, {\n            selectionDirty: false,\n            filters: filters,\n            pagination: pagination\n          })));\n        }\n      });\n    };\n\n    _this.handleSelect = function (record, rowIndex, e) {\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n      var defaultSelection = _this.store.getState().selectionDirty ? [] : _this.getDefaultSelection();\n\n      var selectedRowKeys = _this.store.getState().selectedRowKeys.concat(defaultSelection);\n\n      var key = _this.getRecordKey(record, rowIndex);\n\n      var pivot = _this.state.pivot;\n\n      var rows = _this.getFlatCurrentPageData();\n\n      var realIndex = rowIndex;\n\n      if (_this.props.expandedRowRender) {\n        realIndex = rows.findIndex(function (row) {\n          return _this.getRecordKey(row, rowIndex) === key;\n        });\n      }\n\n      if (nativeEvent.shiftKey && pivot !== undefined && realIndex !== pivot) {\n        var changeRowKeys = [];\n        var direction = Math.sign(pivot - realIndex);\n        var dist = Math.abs(pivot - realIndex);\n        var step = 0;\n\n        var _loop = function _loop() {\n          var i = realIndex + step * direction;\n          step += 1;\n          var row = rows[i];\n\n          var rowKey = _this.getRecordKey(row, i);\n\n          var checkboxProps = _this.getCheckboxPropsByItem(row, i);\n\n          if (!checkboxProps.disabled) {\n            if (selectedRowKeys.includes(rowKey)) {\n              if (!checked) {\n                selectedRowKeys = selectedRowKeys.filter(function (j) {\n                  return rowKey !== j;\n                });\n                changeRowKeys.push(rowKey);\n              }\n            } else if (checked) {\n              selectedRowKeys.push(rowKey);\n              changeRowKeys.push(rowKey);\n            }\n          }\n        };\n\n        while (step <= dist) {\n          _loop();\n        }\n\n        _this.setState({\n          pivot: realIndex\n        });\n\n        _this.store.setState({\n          selectionDirty: true\n        });\n\n        _this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelectMultiple',\n          record: record,\n          checked: checked,\n          changeRowKeys: changeRowKeys,\n          nativeEvent: nativeEvent\n        });\n      } else {\n        if (checked) {\n          selectedRowKeys.push(_this.getRecordKey(record, realIndex));\n        } else {\n          selectedRowKeys = selectedRowKeys.filter(function (i) {\n            return key !== i;\n          });\n        }\n\n        _this.setState({\n          pivot: realIndex\n        });\n\n        _this.store.setState({\n          selectionDirty: true\n        });\n\n        _this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelect',\n          record: record,\n          checked: checked,\n          changeRowKeys: void 0,\n          nativeEvent: nativeEvent\n        });\n      }\n    };\n\n    _this.handleRadioSelect = function (record, rowIndex, e) {\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n\n      var key = _this.getRecordKey(record, rowIndex);\n\n      var selectedRowKeys = [key];\n\n      _this.store.setState({\n        selectionDirty: true\n      });\n\n      _this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: 'onSelect',\n        record: record,\n        checked: checked,\n        changeRowKeys: void 0,\n        nativeEvent: nativeEvent\n      });\n    };\n\n    _this.handleSelectRow = function (selectionKey, index, onSelectFunc) {\n      var data = _this.getFlatCurrentPageData();\n\n      var defaultSelection = _this.store.getState().selectionDirty ? [] : _this.getDefaultSelection();\n\n      var selectedRowKeys = _this.store.getState().selectedRowKeys.concat(defaultSelection);\n\n      var changeableRowKeys = data.filter(function (item, i) {\n        return !_this.getCheckboxPropsByItem(item, i).disabled;\n      }).map(function (item, i) {\n        return _this.getRecordKey(item, i);\n      });\n      var changeRowKeys = [];\n      var selectWay = 'onSelectAll';\n      var checked; // handle default selection\n\n      switch (selectionKey) {\n        case 'all':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = true;\n          break;\n\n        case 'removeAll':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) >= 0) {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = false;\n          break;\n\n        case 'invert':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n            } else {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n            }\n\n            changeRowKeys.push(key);\n            selectWay = 'onSelectInvert';\n          });\n          break;\n\n        default:\n          break;\n      }\n\n      _this.store.setState({\n        selectionDirty: true\n      }); // when select custom selection, callback selections[n].onSelect\n\n\n      var rowSelection = _this.props.rowSelection;\n      var customSelectionStartIndex = 2;\n\n      if (rowSelection && rowSelection.hideDefaultSelections) {\n        customSelectionStartIndex = 0;\n      }\n\n      if (index >= customSelectionStartIndex && typeof onSelectFunc === 'function') {\n        return onSelectFunc(changeableRowKeys);\n      }\n\n      _this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: selectWay,\n        checked: checked,\n        changeRowKeys: changeRowKeys\n      });\n    };\n\n    _this.handlePageChange = function (current) {\n      var props = _this.props;\n\n      var pagination = _extends({}, _this.state.pagination);\n\n      if (current) {\n        pagination.current = current;\n      } else {\n        pagination.current = pagination.current || 1;\n      }\n\n      for (var _len = arguments.length, otherArguments = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        otherArguments[_key - 1] = arguments[_key];\n      }\n\n      pagination.onChange.apply(pagination, [pagination.current].concat(otherArguments));\n      var newState = {\n        pagination: pagination\n      }; // Controlled current prop will not respond user interaction\n\n      if (props.pagination && _typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.pagination = _extends({}, pagination, {\n          current: _this.state.pagination.current\n        });\n      }\n\n      _this.setState(newState);\n\n      _this.store.setState({\n        selectionDirty: false\n      });\n\n      var onChange = _this.props.onChange;\n\n      if (onChange) {\n        onChange.apply(null, _this.prepareParamsArguments(_extends({}, _this.state, {\n          selectionDirty: false,\n          pagination: pagination\n        })));\n      }\n    };\n\n    _this.renderSelectionBox = function (type) {\n      return function (_, record, index) {\n        var rowKey = _this.getRecordKey(record, index);\n\n        var props = _this.getCheckboxPropsByItem(record, index);\n\n        var handleChange = function handleChange(e) {\n          type === 'radio' ? _this.handleRadioSelect(record, index, e) : _this.handleSelect(record, index, e);\n        };\n\n        return React.createElement(\"span\", {\n          onClick: stopPropagation\n        }, React.createElement(SelectionBox, _extends({\n          type: type,\n          store: _this.store,\n          rowIndex: rowKey,\n          onChange: handleChange,\n          defaultSelection: _this.getDefaultSelection()\n        }, props)));\n      };\n    };\n\n    _this.getRecordKey = function (record, index) {\n      var rowKey = _this.props.rowKey;\n      var recordKey = typeof rowKey === 'function' ? rowKey(record, index) : record[rowKey];\n      warning(recordKey !== undefined, 'Table', 'Each record in dataSource of table should have a unique `key` prop, ' + 'or set `rowKey` of Table to an unique primary key, ' + 'see https://u.ant.design/table-row-key');\n      return recordKey === undefined ? index : recordKey;\n    };\n\n    _this.getPopupContainer = function () {\n      return ReactDOM.findDOMNode(_assertThisInitialized(_this));\n    };\n\n    _this.generatePopupContainerFunc = function () {\n      var scroll = _this.props.scroll; // Use undefined to let rc component use default logic.\n\n      return scroll ? _this.getPopupContainer : undefined;\n    };\n\n    _this.handleShowSizeChange = function (current, pageSize) {\n      var pagination = _this.state.pagination;\n      pagination.onShowSizeChange(current, pageSize);\n\n      var nextPagination = _extends({}, pagination, {\n        pageSize: pageSize,\n        current: current\n      });\n\n      _this.setState({\n        pagination: nextPagination\n      });\n\n      var onChange = _this.props.onChange;\n\n      if (onChange) {\n        onChange.apply(null, _this.prepareParamsArguments(_extends({}, _this.state, {\n          pagination: nextPagination\n        })));\n      }\n    };\n\n    _this.renderTable = function (prefixCls, renderEmpty, dropdownPrefixCls, contextLocale) {\n      var _classNames;\n\n      var _a = _this.props,\n          style = _a.style,\n          className = _a.className,\n          showHeader = _a.showHeader,\n          locale = _a.locale,\n          restProps = __rest(_a, [\"style\", \"className\", \"showHeader\", \"locale\"]);\n\n      var data = _this.getCurrentPageData();\n\n      var expandIconAsCell = _this.props.expandedRowRender && _this.props.expandIconAsCell !== false;\n\n      var mergedLocale = _extends({}, contextLocale, locale);\n\n      if (!locale || !locale.emptyText) {\n        mergedLocale.emptyText = renderEmpty('Table');\n      }\n\n      var classString = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(_this.props.size), true), _defineProperty(_classNames, \"\".concat(prefixCls, \"-bordered\"), _this.props.bordered), _defineProperty(_classNames, \"\".concat(prefixCls, \"-empty\"), !data.length), _defineProperty(_classNames, \"\".concat(prefixCls, \"-without-column-header\"), !showHeader), _classNames));\n\n      var columns = _this.renderRowSelection(prefixCls, mergedLocale);\n\n      columns = _this.renderColumnsDropdown(prefixCls, dropdownPrefixCls, columns, mergedLocale);\n      columns = columns.map(function (column, i) {\n        var newColumn = _extends({}, column);\n\n        newColumn.key = _this.getColumnKey(newColumn, i);\n        return newColumn;\n      });\n      var expandIconColumnIndex = columns[0] && columns[0].key === 'selection-column' ? 1 : 0;\n\n      if ('expandIconColumnIndex' in restProps) {\n        expandIconColumnIndex = restProps.expandIconColumnIndex;\n      }\n\n      return React.createElement(RcTable, _extends({\n        key: \"table\"\n      }, restProps, {\n        onRow: function onRow(record, index) {\n          return _this.onRow(prefixCls, record, index);\n        },\n        components: _this.components,\n        prefixCls: prefixCls,\n        data: data,\n        columns: columns,\n        showHeader: showHeader,\n        className: classString,\n        expandIconColumnIndex: expandIconColumnIndex,\n        expandIconAsCell: expandIconAsCell,\n        emptyText: mergedLocale.emptyText\n      }));\n    };\n\n    _this.renderComponent = function (_ref) {\n      var getPrefixCls = _ref.getPrefixCls,\n          renderEmpty = _ref.renderEmpty;\n      var _this$props = _this.props,\n          customizePrefixCls = _this$props.prefixCls,\n          customizeDropdownPrefixCls = _this$props.dropdownPrefixCls,\n          style = _this$props.style,\n          className = _this$props.className;\n\n      var data = _this.getCurrentPageData();\n\n      var loading = _this.props.loading;\n\n      if (typeof loading === 'boolean') {\n        loading = {\n          spinning: loading\n        };\n      }\n\n      var prefixCls = getPrefixCls('table', customizePrefixCls);\n      var dropdownPrefixCls = getPrefixCls('dropdown', customizeDropdownPrefixCls);\n      var table = React.createElement(LocaleReceiver, {\n        componentName: \"Table\",\n        defaultLocale: defaultLocale.Table\n      }, function (locale) {\n        return _this.renderTable(prefixCls, renderEmpty, dropdownPrefixCls, locale);\n      }); // if there is no pagination or no data,\n      // the height of spin should decrease by half of pagination\n\n      var paginationPatchClass = _this.hasPagination() && data && data.length !== 0 ? \"\".concat(prefixCls, \"-with-pagination\") : \"\".concat(prefixCls, \"-without-pagination\");\n      return React.createElement(\"div\", {\n        className: classNames(\"\".concat(prefixCls, \"-wrapper\"), className),\n        style: style\n      }, React.createElement(Spin, _extends({}, loading, {\n        className: loading.spinning ? \"\".concat(paginationPatchClass, \" \").concat(prefixCls, \"-spin-holder\") : ''\n      }), _this.renderPagination(prefixCls, 'top'), table, _this.renderPagination(prefixCls, 'bottom')));\n    };\n\n    var expandedRowRender = props.expandedRowRender,\n        _props$columns = props.columns,\n        columns = _props$columns === void 0 ? [] : _props$columns;\n    warning(!('columnsPageRange' in props || 'columnsPageSize' in props), 'Table', '`columnsPageRange` and `columnsPageSize` are removed, please use ' + 'fixed columns instead, see: https://u.ant.design/fixed-columns.');\n\n    if (expandedRowRender && columns.some(function (_ref2) {\n      var fixed = _ref2.fixed;\n      return !!fixed;\n    })) {\n      warning(false, 'Table', '`expandedRowRender` and `Column.fixed` are not compatible. Please use one of them at one time.');\n    }\n\n    _this.columns = props.columns || normalizeColumns(props.children);\n\n    _this.createComponents(props.components);\n\n    _this.state = _extends({}, _this.getDefaultSortOrder(_this.columns), {\n      // 减少状态\n      filters: _this.getFiltersFromColumns(),\n      pagination: _this.getDefaultPagination(props),\n      pivot: undefined\n    });\n    _this.CheckboxPropsCache = {};\n    _this.store = createStore({\n      selectedRowKeys: getRowSelection(props).selectedRowKeys || [],\n      selectionDirty: false\n    });\n    return _this;\n  }\n\n  _createClass(Table, [{\n    key: \"getDefaultSelection\",\n    value: function getDefaultSelection() {\n      var _this2 = this;\n\n      var rowSelection = getRowSelection(this.props);\n\n      if (!rowSelection.getCheckboxProps) {\n        return [];\n      }\n\n      return this.getFlatData().filter(function (item, rowIndex) {\n        return _this2.getCheckboxPropsByItem(item, rowIndex).defaultChecked;\n      }).map(function (record, rowIndex) {\n        return _this2.getRecordKey(record, rowIndex);\n      });\n    }\n  }, {\n    key: \"getDefaultPagination\",\n    value: function getDefaultPagination(props) {\n      var pagination = _typeof(props.pagination) === 'object' ? props.pagination : {};\n      var current;\n\n      if ('current' in pagination) {\n        current = pagination.current;\n      } else if ('defaultCurrent' in pagination) {\n        current = pagination.defaultCurrent;\n      }\n\n      var pageSize;\n\n      if ('pageSize' in pagination) {\n        pageSize = pagination.pageSize;\n      } else if ('defaultPageSize' in pagination) {\n        pageSize = pagination.defaultPageSize;\n      }\n\n      return this.hasPagination(props) ? _extends({}, defaultPagination, pagination, {\n        current: current || 1,\n        pageSize: pageSize || 10\n      }) : {};\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      this.columns = nextProps.columns || normalizeColumns(nextProps.children);\n\n      if ('pagination' in nextProps || 'pagination' in this.props) {\n        this.setState(function (previousState) {\n          var newPagination = _extends({}, defaultPagination, previousState.pagination, nextProps.pagination);\n\n          newPagination.current = newPagination.current || 1;\n          newPagination.pageSize = newPagination.pageSize || 10;\n          return {\n            pagination: nextProps.pagination !== false ? newPagination : emptyObject\n          };\n        });\n      }\n\n      if (nextProps.rowSelection && 'selectedRowKeys' in nextProps.rowSelection) {\n        this.store.setState({\n          selectedRowKeys: nextProps.rowSelection.selectedRowKeys || []\n        });\n      } else if (this.props.rowSelection && !nextProps.rowSelection) {\n        this.store.setState({\n          selectedRowKeys: []\n        });\n      }\n\n      if ('dataSource' in nextProps && nextProps.dataSource !== this.props.dataSource) {\n        this.store.setState({\n          selectionDirty: false\n        });\n      } // https://github.com/ant-design/ant-design/issues/10133\n\n\n      this.CheckboxPropsCache = {};\n\n      if (this.getSortOrderColumns(this.columns).length > 0) {\n        var sortState = this.getSortStateFromColumns(this.columns);\n\n        if (sortState.sortColumn !== this.state.sortColumn || sortState.sortOrder !== this.state.sortOrder) {\n          this.setState(sortState);\n        }\n      }\n\n      var filteredValueColumns = this.getFilteredValueColumns(this.columns);\n\n      if (filteredValueColumns.length > 0) {\n        var filtersFromColumns = this.getFiltersFromColumns(this.columns);\n\n        var newFilters = _extends({}, this.state.filters);\n\n        Object.keys(filtersFromColumns).forEach(function (key) {\n          newFilters[key] = filtersFromColumns[key];\n        });\n\n        if (this.isFiltersChanged(newFilters)) {\n          this.setState({\n            filters: newFilters\n          });\n        }\n      }\n\n      this.createComponents(nextProps.components, this.props.components);\n    }\n  }, {\n    key: \"setSelectedRowKeys\",\n    value: function setSelectedRowKeys(selectedRowKeys, selectionInfo) {\n      var _this3 = this;\n\n      var selectWay = selectionInfo.selectWay,\n          record = selectionInfo.record,\n          checked = selectionInfo.checked,\n          changeRowKeys = selectionInfo.changeRowKeys,\n          nativeEvent = selectionInfo.nativeEvent;\n      var rowSelection = getRowSelection(this.props);\n\n      if (rowSelection && !('selectedRowKeys' in rowSelection)) {\n        this.store.setState({\n          selectedRowKeys: selectedRowKeys\n        });\n      }\n\n      var data = this.getFlatData();\n\n      if (!rowSelection.onChange && !rowSelection[selectWay]) {\n        return;\n      }\n\n      var selectedRows = data.filter(function (row, i) {\n        return selectedRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n      });\n\n      if (rowSelection.onChange) {\n        rowSelection.onChange(selectedRowKeys, selectedRows);\n      }\n\n      if (selectWay === 'onSelect' && rowSelection.onSelect) {\n        rowSelection.onSelect(record, checked, selectedRows, nativeEvent);\n      } else if (selectWay === 'onSelectMultiple' && rowSelection.onSelectMultiple) {\n        var changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n        });\n        rowSelection.onSelectMultiple(checked, selectedRows, changeRows);\n      } else if (selectWay === 'onSelectAll' && rowSelection.onSelectAll) {\n        var _changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n        });\n\n        rowSelection.onSelectAll(checked, selectedRows, _changeRows);\n      } else if (selectWay === 'onSelectInvert' && rowSelection.onSelectInvert) {\n        rowSelection.onSelectInvert(selectedRowKeys);\n      }\n    }\n  }, {\n    key: \"hasPagination\",\n    value: function hasPagination(props) {\n      return (props || this.props).pagination !== false;\n    }\n  }, {\n    key: \"isFiltersChanged\",\n    value: function isFiltersChanged(filters) {\n      var _this4 = this;\n\n      var filtersChanged = false;\n\n      if (Object.keys(filters).length !== Object.keys(this.state.filters).length) {\n        filtersChanged = true;\n      } else {\n        Object.keys(filters).forEach(function (columnKey) {\n          if (filters[columnKey] !== _this4.state.filters[columnKey]) {\n            filtersChanged = true;\n          }\n        });\n      }\n\n      return filtersChanged;\n    }\n  }, {\n    key: \"getSortOrderColumns\",\n    value: function getSortOrderColumns(columns) {\n      return flatFilter(columns || this.columns || [], function (column) {\n        return 'sortOrder' in column;\n      });\n    }\n  }, {\n    key: \"getFilteredValueColumns\",\n    value: function getFilteredValueColumns(columns) {\n      return flatFilter(columns || this.columns || [], function (column) {\n        return typeof column.filteredValue !== 'undefined';\n      });\n    }\n  }, {\n    key: \"getFiltersFromColumns\",\n    value: function getFiltersFromColumns(columns) {\n      var _this5 = this;\n\n      var filters = {};\n      this.getFilteredValueColumns(columns).forEach(function (col) {\n        var colKey = _this5.getColumnKey(col);\n\n        filters[colKey] = col.filteredValue;\n      });\n      return filters;\n    }\n  }, {\n    key: \"getDefaultSortOrder\",\n    value: function getDefaultSortOrder(columns) {\n      var definedSortState = this.getSortStateFromColumns(columns);\n      var defaultSortedColumn = flatFilter(columns || [], function (column) {\n        return column.defaultSortOrder != null;\n      })[0];\n\n      if (defaultSortedColumn && !definedSortState.sortColumn) {\n        return {\n          sortColumn: defaultSortedColumn,\n          sortOrder: defaultSortedColumn.defaultSortOrder\n        };\n      }\n\n      return definedSortState;\n    }\n  }, {\n    key: \"getSortStateFromColumns\",\n    value: function getSortStateFromColumns(columns) {\n      // return first column which sortOrder is not falsy\n      var sortedColumn = this.getSortOrderColumns(columns).filter(function (col) {\n        return col.sortOrder;\n      })[0];\n\n      if (sortedColumn) {\n        return {\n          sortColumn: sortedColumn,\n          sortOrder: sortedColumn.sortOrder\n        };\n      }\n\n      return {\n        sortColumn: null,\n        sortOrder: null\n      };\n    }\n  }, {\n    key: \"getSorterFn\",\n    value: function getSorterFn(state) {\n      var _ref3 = state || this.state,\n          sortOrder = _ref3.sortOrder,\n          sortColumn = _ref3.sortColumn;\n\n      if (!sortOrder || !sortColumn || typeof sortColumn.sorter !== 'function') {\n        return;\n      }\n\n      return function (a, b) {\n        var result = sortColumn.sorter(a, b, sortOrder);\n\n        if (result !== 0) {\n          return sortOrder === 'descend' ? -result : result;\n        }\n\n        return 0;\n      };\n    }\n  }, {\n    key: \"isSameColumn\",\n    value: function isSameColumn(a, b) {\n      if (a && b && a.key && a.key === b.key) {\n        return true;\n      }\n\n      return a === b || shallowEqual(a, b, function (value, other) {\n        if (typeof value === 'function' && typeof other === 'function') {\n          return value === other || value.toString() === other.toString();\n        }\n      });\n    }\n  }, {\n    key: \"toggleSortOrder\",\n    value: function toggleSortOrder(column) {\n      if (!column.sorter) {\n        return;\n      }\n\n      var sortDirections = column.sortDirections || this.props.sortDirections;\n      var _this$state = this.state,\n          sortOrder = _this$state.sortOrder,\n          sortColumn = _this$state.sortColumn; // 只同时允许一列进行排序，否则会导致排序顺序的逻辑问题\n\n      var newSortOrder; // 切换另一列时，丢弃 sortOrder 的状态\n\n      if (this.isSameColumn(sortColumn, column) && sortOrder !== undefined) {\n        // 按照sortDirections的内容依次切换排序状态\n        var methodIndex = sortDirections.indexOf(sortOrder) + 1;\n        newSortOrder = methodIndex === sortDirections.length ? undefined : sortDirections[methodIndex];\n      } else {\n        newSortOrder = sortDirections[0];\n      }\n\n      var newState = {\n        sortOrder: newSortOrder,\n        sortColumn: newSortOrder ? column : null\n      }; // Controlled\n\n      if (this.getSortOrderColumns().length === 0) {\n        this.setState(newState);\n      }\n\n      var onChange = this.props.onChange;\n\n      if (onChange) {\n        onChange.apply(null, this.prepareParamsArguments(_extends({}, this.state, newState)));\n      }\n    }\n  }, {\n    key: \"renderRowSelection\",\n    value: function renderRowSelection(prefixCls, locale) {\n      var _this6 = this;\n\n      var rowSelection = this.props.rowSelection;\n      var columns = this.columns.concat();\n\n      if (rowSelection) {\n        var data = this.getFlatCurrentPageData().filter(function (item, index) {\n          if (rowSelection.getCheckboxProps) {\n            return !_this6.getCheckboxPropsByItem(item, index).disabled;\n          }\n\n          return true;\n        });\n        var selectionColumnClass = classNames(\"\".concat(prefixCls, \"-selection-column\"), _defineProperty({}, \"\".concat(prefixCls, \"-selection-column-custom\"), rowSelection.selections));\n\n        var selectionColumn = _defineProperty({\n          key: 'selection-column',\n          render: this.renderSelectionBox(rowSelection.type),\n          className: selectionColumnClass,\n          fixed: rowSelection.fixed,\n          width: rowSelection.columnWidth,\n          title: rowSelection.columnTitle\n        }, INTERNAL_COL_DEFINE, {\n          className: \"\".concat(prefixCls, \"-selection-col\")\n        });\n\n        if (rowSelection.type !== 'radio') {\n          var checkboxAllDisabled = data.every(function (item, index) {\n            return _this6.getCheckboxPropsByItem(item, index).disabled;\n          });\n          selectionColumn.title = selectionColumn.title || React.createElement(SelectionCheckboxAll, {\n            store: this.store,\n            locale: locale,\n            data: data,\n            getCheckboxPropsByItem: this.getCheckboxPropsByItem,\n            getRecordKey: this.getRecordKey,\n            disabled: checkboxAllDisabled,\n            prefixCls: prefixCls,\n            onSelect: this.handleSelectRow,\n            selections: rowSelection.selections,\n            hideDefaultSelections: rowSelection.hideDefaultSelections,\n            getPopupContainer: this.generatePopupContainerFunc()\n          });\n        }\n\n        if ('fixed' in rowSelection) {\n          selectionColumn.fixed = rowSelection.fixed;\n        } else if (columns.some(function (column) {\n          return column.fixed === 'left' || column.fixed === true;\n        })) {\n          selectionColumn.fixed = 'left';\n        }\n\n        if (columns[0] && columns[0].key === 'selection-column') {\n          columns[0] = selectionColumn;\n        } else {\n          columns.unshift(selectionColumn);\n        }\n      }\n\n      return columns;\n    }\n  }, {\n    key: \"getColumnKey\",\n    value: function getColumnKey(column, index) {\n      return column.key || column.dataIndex || index;\n    }\n  }, {\n    key: \"getMaxCurrent\",\n    value: function getMaxCurrent(total) {\n      var _this$state$paginatio = this.state.pagination,\n          current = _this$state$paginatio.current,\n          pageSize = _this$state$paginatio.pageSize;\n\n      if ((current - 1) * pageSize >= total) {\n        return Math.floor((total - 1) / pageSize) + 1;\n      }\n\n      return current;\n    }\n  }, {\n    key: \"isSortColumn\",\n    value: function isSortColumn(column) {\n      var sortColumn = this.state.sortColumn;\n\n      if (!column || !sortColumn) {\n        return false;\n      }\n\n      return this.getColumnKey(sortColumn) === this.getColumnKey(column);\n    }\n  }, {\n    key: \"renderColumnsDropdown\",\n    value: function renderColumnsDropdown(prefixCls, dropdownPrefixCls, columns, locale) {\n      var _this7 = this;\n\n      var _this$state2 = this.state,\n          sortOrder = _this$state2.sortOrder,\n          filters = _this$state2.filters;\n      return treeMap(columns, function (column, i) {\n        var _classNames3;\n\n        var key = _this7.getColumnKey(column, i);\n\n        var filterDropdown;\n        var sortButton;\n        var onHeaderCell = column.onHeaderCell;\n\n        var isSortColumn = _this7.isSortColumn(column);\n\n        if (column.filters && column.filters.length > 0 || column.filterDropdown) {\n          var colFilters = key in filters ? filters[key] : [];\n          filterDropdown = React.createElement(FilterDropdown, {\n            locale: locale,\n            column: column,\n            selectedKeys: colFilters,\n            confirmFilter: _this7.handleFilter,\n            prefixCls: \"\".concat(prefixCls, \"-filter\"),\n            dropdownPrefixCls: dropdownPrefixCls || 'ant-dropdown',\n            getPopupContainer: _this7.generatePopupContainerFunc(),\n            key: \"filter-dropdown\"\n          });\n        }\n\n        if (column.sorter) {\n          var sortDirections = column.sortDirections || _this7.props.sortDirections;\n          var isAscend = isSortColumn && sortOrder === 'ascend';\n          var isDescend = isSortColumn && sortOrder === 'descend';\n          var ascend = sortDirections.indexOf('ascend') !== -1 && React.createElement(Icon, {\n            className: \"\".concat(prefixCls, \"-column-sorter-up \").concat(isAscend ? 'on' : 'off'),\n            type: \"caret-up\",\n            theme: \"filled\"\n          });\n          var descend = sortDirections.indexOf('descend') !== -1 && React.createElement(Icon, {\n            className: \"\".concat(prefixCls, \"-column-sorter-down \").concat(isDescend ? 'on' : 'off'),\n            type: \"caret-down\",\n            theme: \"filled\"\n          });\n          sortButton = React.createElement(\"div\", {\n            title: locale.sortTitle,\n            className: classNames(\"\".concat(prefixCls, \"-column-sorter-inner\"), ascend && descend && \"\".concat(prefixCls, \"-column-sorter-inner-full\")),\n            key: \"sorter\"\n          }, ascend, descend);\n\n          onHeaderCell = function onHeaderCell(col) {\n            var colProps = {}; // Get original first\n\n            if (column.onHeaderCell) {\n              colProps = _extends({}, column.onHeaderCell(col));\n            } // Add sorter logic\n\n\n            var onHeaderCellClick = colProps.onClick;\n\n            colProps.onClick = function () {\n              _this7.toggleSortOrder(column);\n\n              if (onHeaderCellClick) {\n                onHeaderCellClick.apply(void 0, arguments);\n              }\n            };\n\n            return colProps;\n          };\n        }\n\n        return _extends({}, column, {\n          className: classNames(column.className, (_classNames3 = {}, _defineProperty(_classNames3, \"\".concat(prefixCls, \"-column-has-actions\"), sortButton || filterDropdown), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-column-has-filters\"), filterDropdown), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-column-has-sorters\"), sortButton), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-column-sort\"), isSortColumn && sortOrder), _classNames3)),\n          title: [React.createElement(\"span\", {\n            key: \"title\",\n            className: \"\".concat(prefixCls, \"-header-column\")\n          }, React.createElement(\"div\", {\n            className: sortButton ? \"\".concat(prefixCls, \"-column-sorters\") : undefined\n          }, React.createElement(\"span\", {\n            className: \"\".concat(prefixCls, \"-column-title\")\n          }, _this7.renderColumnTitle(column.title)), React.createElement(\"span\", {\n            className: \"\".concat(prefixCls, \"-column-sorter\")\n          }, sortButton))), filterDropdown],\n          onHeaderCell: onHeaderCell\n        });\n      });\n    }\n  }, {\n    key: \"renderColumnTitle\",\n    value: function renderColumnTitle(title) {\n      var _this$state3 = this.state,\n          filters = _this$state3.filters,\n          sortOrder = _this$state3.sortOrder; // https://github.com/ant-design/ant-design/issues/11246#issuecomment-405009167\n\n      if (title instanceof Function) {\n        return title({\n          filters: filters,\n          sortOrder: sortOrder\n        });\n      }\n\n      return title;\n    }\n  }, {\n    key: \"renderPagination\",\n    value: function renderPagination(prefixCls, paginationPosition) {\n      // 强制不需要分页\n      if (!this.hasPagination()) {\n        return null;\n      }\n\n      var size = 'default';\n      var pagination = this.state.pagination;\n\n      if (pagination.size) {\n        size = pagination.size;\n      } else if (this.props.size === 'middle' || this.props.size === 'small') {\n        size = 'small';\n      }\n\n      var position = pagination.position || 'bottom';\n      var total = pagination.total || this.getLocalData().length;\n      return total > 0 && (position === paginationPosition || position === 'both') ? React.createElement(Pagination, _extends({\n        key: \"pagination-\".concat(paginationPosition)\n      }, pagination, {\n        className: classNames(pagination.className, \"\".concat(prefixCls, \"-pagination\")),\n        onChange: this.handlePageChange,\n        total: total,\n        size: size,\n        current: this.getMaxCurrent(total),\n        onShowSizeChange: this.handleShowSizeChange\n      })) : null;\n    } // Get pagination, filters, sorter\n\n  }, {\n    key: \"prepareParamsArguments\",\n    value: function prepareParamsArguments(state) {\n      var pagination = _extends({}, state.pagination); // remove useless handle function in Table.onChange\n\n\n      delete pagination.onChange;\n      delete pagination.onShowSizeChange;\n      var filters = state.filters;\n      var sorter = {};\n\n      if (state.sortColumn && state.sortOrder) {\n        sorter.column = state.sortColumn;\n        sorter.order = state.sortOrder;\n        sorter.field = state.sortColumn.dataIndex;\n        sorter.columnKey = this.getColumnKey(state.sortColumn);\n      }\n\n      var extra = {\n        currentDataSource: this.getLocalData(state)\n      };\n      return [pagination, filters, sorter, extra];\n    }\n  }, {\n    key: \"findColumn\",\n    value: function findColumn(myKey) {\n      var _this8 = this;\n\n      var column;\n      treeMap(this.columns, function (c) {\n        if (_this8.getColumnKey(c) === myKey) {\n          column = c;\n        }\n      });\n      return column;\n    }\n  }, {\n    key: \"getCurrentPageData\",\n    value: function getCurrentPageData() {\n      var data = this.getLocalData();\n      var current;\n      var pageSize;\n      var state = this.state; // 如果没有分页的话，默认全部展示\n\n      if (!this.hasPagination()) {\n        pageSize = Number.MAX_VALUE;\n        current = 1;\n      } else {\n        pageSize = state.pagination.pageSize;\n        current = this.getMaxCurrent(state.pagination.total || data.length);\n      } // 分页\n      // ---\n      // 当数据量少于等于每页数量时，直接设置数据\n      // 否则进行读取分页数据\n\n\n      if (data.length > pageSize || pageSize === Number.MAX_VALUE) {\n        data = data.filter(function (_, i) {\n          return i >= (current - 1) * pageSize && i < current * pageSize;\n        });\n      }\n\n      return data;\n    }\n  }, {\n    key: \"getFlatData\",\n    value: function getFlatData() {\n      var childrenColumnName = this.props.childrenColumnName;\n      return flatArray(this.getLocalData(null, false), childrenColumnName);\n    }\n  }, {\n    key: \"getFlatCurrentPageData\",\n    value: function getFlatCurrentPageData() {\n      var childrenColumnName = this.props.childrenColumnName;\n      return flatArray(this.getCurrentPageData(), childrenColumnName);\n    }\n  }, {\n    key: \"recursiveSort\",\n    value: function recursiveSort(data, sorterFn) {\n      var _this9 = this;\n\n      var _this$props$childrenC = this.props.childrenColumnName,\n          childrenColumnName = _this$props$childrenC === void 0 ? 'children' : _this$props$childrenC;\n      return data.sort(sorterFn).map(function (item) {\n        return item[childrenColumnName] ? _extends({}, item, _defineProperty({}, childrenColumnName, _this9.recursiveSort(item[childrenColumnName], sorterFn))) : item;\n      });\n    }\n  }, {\n    key: \"getLocalData\",\n    value: function getLocalData(state) {\n      var _this10 = this;\n\n      var filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var currentState = state || this.state;\n      var dataSource = this.props.dataSource;\n      var data = dataSource || []; // 优化本地排序\n\n      data = data.slice(0);\n      var sorterFn = this.getSorterFn(currentState);\n\n      if (sorterFn) {\n        data = this.recursiveSort(data, sorterFn);\n      } // 筛选\n\n\n      if (filter && currentState.filters) {\n        Object.keys(currentState.filters).forEach(function (columnKey) {\n          var col = _this10.findColumn(columnKey);\n\n          if (!col) {\n            return;\n          }\n\n          var values = currentState.filters[columnKey] || [];\n\n          if (values.length === 0) {\n            return;\n          }\n\n          var onFilter = col.onFilter;\n          data = onFilter ? data.filter(function (record) {\n            return values.some(function (v) {\n              return onFilter(v, record);\n            });\n          }) : data;\n        });\n      }\n\n      return data;\n    }\n  }, {\n    key: \"createComponents\",\n    value: function createComponents() {\n      var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var prevComponents = arguments.length > 1 ? arguments[1] : undefined;\n      var bodyRow = components && components.body && components.body.row;\n      var preBodyRow = prevComponents && prevComponents.body && prevComponents.body.row;\n\n      if (!this.row || bodyRow !== preBodyRow) {\n        this.row = createBodyRow(bodyRow);\n      }\n\n      this.components = _extends({}, components, {\n        body: _extends({}, components.body, {\n          row: this.row\n        })\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(ConfigConsumer, null, this.renderComponent);\n    }\n  }]);\n\n  return Table;\n}(React.Component);\n\nexport { Table as default };\nTable.Column = Column;\nTable.ColumnGroup = ColumnGroup;\nTable.propTypes = {\n  dataSource: PropTypes.array,\n  columns: PropTypes.array,\n  prefixCls: PropTypes.string,\n  useFixedHeader: PropTypes.bool,\n  rowSelection: PropTypes.object,\n  className: PropTypes.string,\n  size: PropTypes.string,\n  loading: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  bordered: PropTypes.bool,\n  onChange: PropTypes.func,\n  locale: PropTypes.object,\n  dropdownPrefixCls: PropTypes.string,\n  sortDirections: PropTypes.array\n};\nTable.defaultProps = {\n  dataSource: [],\n  useFixedHeader: false,\n  className: '',\n  size: 'default',\n  loading: false,\n  bordered: false,\n  indentSize: 20,\n  locale: {},\n  rowKey: 'key',\n  showHeader: true,\n  sortDirections: ['ascend', 'descend'],\n  childrenColumnName: 'children'\n};"]},"metadata":{},"sourceType":"module"}